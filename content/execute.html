
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Execute and cache your pages</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-examples.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.0/dist/embed-amd.js"></script>
    <link rel="canonical" href="https://zul.rocks/content/execute.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-52617120-7', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.jpg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Linear Algebra Problem Book
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Linear Algebra
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../linalg/linear-map.html">
   Linear maps, null space, range
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3_11.html">
     Problem 1: Linear map takes zero vector to zero vector
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3D2.html">
     Problem 2: The set of noninvertible operators which is not a subspace
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3D3.html">
     Problem 3: Invertible operator on
     <span class="math notranslate nohighlight">
      \(V\)
     </span>
     exists iff linear map from its subspace is injective
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3D4.html">
     Problem 4: Invertible operator with special property exists iff certain conditions on null spaces are satisfied
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3D5.html">
     Problem 5: Invertible operator with special property exists iff certain conditions on range spaces are satisfied
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3D6.html">
     Problem 6: Invertible operators with special properties exists iff certain conditions on null space dimensions are satisfied
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3E14.html">
     Problem 7:
     <span class="math notranslate nohighlight">
      \(\mathbb F^{\infty}/U\)
     </span>
     is infinite-dimensional
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../linalg/3E15.html">
     Problem 8:
     <span class="math notranslate nohighlight">
      \(\text{dim } V/(\text{null } \phi) =1.\)
     </span>
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://zul.rocks/"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://zul.rocks//issues/new?title=Issue%20on%20page%20%2Fcontent/execute.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com//zul.rocks/edit/master/docs/content/execute.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/content/execute.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="../_sources/content/execute.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trigger-notebook-execution">
   Trigger notebook execution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exclude-files-from-execution">
   Exclude files from execution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#caching-the-notebook-execution">
   Caching the notebook execution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-configuration">
   Execution configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-execution-working-directory">
     The execution working directory
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-execution-timeout">
     Setting execution timeout
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dealing-with-code-that-raises-errors">
     Dealing with code that raises errors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dealing-with-code-that-produces-stderr">
     Dealing with code that produces stderr
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dealing-with-code-that-produces-stdout">
     Dealing with code that produces stdout
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-stdout-and-stderr-output">
     Merging stdout and stderr output
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-statistics">
   Execution statistics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-tracebacks-in-the-terminal">
   Execution tracebacks in the terminal
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Execute and cache your pages</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trigger-notebook-execution">
   Trigger notebook execution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#exclude-files-from-execution">
   Exclude files from execution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#caching-the-notebook-execution">
   Caching the notebook execution
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-configuration">
   Execution configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-execution-working-directory">
     The execution working directory
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#setting-execution-timeout">
     Setting execution timeout
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dealing-with-code-that-raises-errors">
     Dealing with code that raises errors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dealing-with-code-that-produces-stderr">
     Dealing with code that produces stderr
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dealing-with-code-that-produces-stdout">
     Dealing with code that produces stdout
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#merging-stdout-and-stderr-output">
     Merging stdout and stderr output
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-statistics">
   Execution statistics
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-tracebacks-in-the-terminal">
   Execution tracebacks in the terminal
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="execute-and-cache-your-pages">
<h1>Execute and cache your pages<a class="headerlink" href="#execute-and-cache-your-pages" title="Permalink to this headline">#</a></h1>
<p>Jupyter Book can automatically run and cache any notebook pages.
Notebooks can either be run each time the documentation is built,
or cached locally so that notebooks will only be re-run when the code cells in a notebook have changed.</p>
<p>Caching behaviour is controlled with the <code class="docutils literal notranslate"><span class="pre">execute:</span></code> section <a class="reference internal" href="../customize/config.html"><span class="doc std std-doc">in your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> file</span></a>. See
the sections below for each configuration option and its effect.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you’d like to execute code that is in your Markdown files,
you can use the <code class="docutils literal notranslate"><span class="pre">{code-cell}</span></code> directive in MyST Markdown.
See <a class="reference internal" href="../file-types/myst-notebooks.html"><span class="doc std std-doc">Notebooks written entirely in Markdown</span></a> for more information.</p>
</div>
<section id="trigger-notebook-execution">
<h2>Trigger notebook execution<a class="headerlink" href="#trigger-notebook-execution" title="Permalink to this headline">#</a></h2>
<p>By default, Jupyter Book will execute any content files that have a notebook structure
and that are missing at least one output. This is equivalent to the following configuration in _config.yml`:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">execute_notebooks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">auto</span><span class="w"></span>
</pre></div>
</div>
<p>This will only execute notebooks that are missing at least one output.
If the notebook has <em>all</em> of its outputs populated, then it will not be executed.</p>
<p><strong>To force the execution of all notebooks, regardless of their outputs</strong>, change the
above configuration value to:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute_notebooks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">force</span><span class="w"></span>
</pre></div>
</div>
<p><strong>To cache execution outputs with <a class="reference external" href="https://github.com/executablebooks/jupyter-cache">jupyter-cache</a></strong>, change the above configuration
value to:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">execute_notebooks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cache</span><span class="w"></span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#execute-cache"><span class="std std-ref">Caching the notebook execution</span></a> for more information.</p>
<p><strong>To turn off notebook execution</strong>, change the above configuration value to:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">execute_notebooks</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;off&#39;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="exclude-files-from-execution">
<span id="execute-exclude"></span><h2>Exclude files from execution<a class="headerlink" href="#exclude-files-from-execution" title="Permalink to this headline">#</a></h2>
<p><strong>To exclude certain file patterns from execution</strong>, use the following
configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">exclude_patterns</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;pattern1&#39;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;pattern2&#39;</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&#39;*pattern3withwildcard&#39;</span><span class="w"></span>
</pre></div>
</div>
<p>Any file that matches one of the items in <code class="docutils literal notranslate"><span class="pre">exclude_patterns</span></code> will not be executed.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To auto-exclude all files outside of your table of contents, see <a class="reference internal" href="../structure/configure.html#config-exclude-non-toc-files"><span class="std std-ref">Disable building files that aren’t in the Table of Contents</span></a></p>
</div>
</section>
<section id="caching-the-notebook-execution">
<span id="execute-cache"></span><h2>Caching the notebook execution<a class="headerlink" href="#caching-the-notebook-execution" title="Permalink to this headline">#</a></h2>
<p>You may also <strong>cache the results of executing a notebook page</strong> using <a class="reference external" href="https://github.com/executablebooks/jupyter-cache">jupyter-cache</a>.
In this case, when a page is executed, its outputs will be stored in a local database.
This allows you to be sure that the outputs in your documentation are up-to-date,
while saving time avoiding unnecessary re-execution.
It also allows you to store your <code class="docutils literal notranslate"><span class="pre">.ipynb</span></code> files in your <code class="docutils literal notranslate"><span class="pre">git</span></code> repository <em>without their outputs</em>,
but still leverage a cache to save time when building your site.</p>
<p>When you re-build your site, the following will happen:</p>
<ul class="simple">
<li><p>Notebooks that have not seen changes to their <strong>code cells</strong> since the last build will not be re-executed.
Instead, their outputs will be pulled from the cache and inserted into your site.</p></li>
<li><p>Notebooks that <strong>have had any change to their code cells</strong> will be re-executed
and the cache will be updated with the new outputs.</p></li>
</ul>
<p>To enable caching of notebook outputs, use the following configuration:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">execute_notebooks</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cache</span><span class="w"></span>
</pre></div>
</div>
<p>By default, the cache will be placed in the parent of your build folder.
Generally, this is in <code class="docutils literal notranslate"><span class="pre">_build/.jupyter_cache</span></code>.</p>
<p>You may also specify a path to the location of a jupyter cache you’d like to use:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">cache</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">path/to/mycache</span><span class="w"></span>
</pre></div>
</div>
<p>The path should point to an <strong>empty folder</strong>, or a folder where a <strong>jupyter cache already exists</strong>.</p>
</section>
<section id="execution-configuration">
<h2>Execution configuration<a class="headerlink" href="#execution-configuration" title="Permalink to this headline">#</a></h2>
<p>You can control notebook execution and how output content is handled at a project level using your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> but, in some cases, also at a notebook and code cell level.
Below we explore a number of ways to achieve this.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="metadata.html#jupyter-cell-tags"><span class="std std-ref">Add metadata to notebooks</span></a> and <a class="reference internal" href="code-outputs.html"><span class="doc std std-doc">Formatting code outputs</span></a>.</p>
</div>
<section id="the-execution-working-directory">
<h3>The execution working directory<a class="headerlink" href="#the-execution-working-directory" title="Permalink to this headline">#</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The default behaviour of <code class="docutils literal notranslate"><span class="pre">cache</span></code> is now to run in the local directory.
This is a change from <code class="docutils literal notranslate"><span class="pre">v0.7</span></code>.</p>
</div>
<p>By default, the command working directory (cwd) in which a notebook runs will be the directory in which it is located (for both <code class="docutils literal notranslate"><span class="pre">auto</span></code> and <code class="docutils literal notranslate"><span class="pre">cache</span></code>). This means that notebooks requiring access to assets in relative paths will work.</p>
<p>Alternatively, if you wish for your notebooks to isolate your notebook execution in a temporary folder,
you can use the following <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code> setting:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">run_in_temp</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="setting-execution-timeout">
<h3>Setting execution timeout<a class="headerlink" href="#setting-execution-timeout" title="Permalink to this headline">#</a></h3>
<p>Execution timeout defines the maximum time (in seconds) each notebook cell is allowed to run for.
If the execution takes longer an exception will be raised.
The default is 30 seconds, so in cases of long-running cells you may want to specify a higher value.
The timeout option can also be set to -1, to remove any restriction on execution time.</p>
<p>You can set the timeout for all notebook executions in your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">100</span><span class="w"></span>
</pre></div>
</div>
<p>This global value can also be overridden per notebook by adding this to your notebook metadata:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w"> </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;execution&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="dealing-with-code-that-raises-errors">
<h3>Dealing with code that raises errors<a class="headerlink" href="#dealing-with-code-that-raises-errors" title="Permalink to this headline">#</a></h3>
<p>In some cases, you may want to intentionally show code that doesn’t work
(e.g., to show the error message).</p>
<p>You can allow errors for all notebooks in your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">allow_errors</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
<p>This global value can also be overridden per notebook by adding this to your notebook metadata:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w"> </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="nt">&quot;execution&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="nt">&quot;allow_errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Lastly, you can allow errors at a cell level, by adding a <code class="docutils literal notranslate"><span class="pre">raises-exception</span></code> tag to your code cell.
This can be done via a Jupyter interface, or via the <code class="docutils literal notranslate"><span class="pre">{code-cell}</span></code> directive like so:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span><span class="gu">```{code-cell}</span>
<span class="gu">---</span>
<span class="gu">tags: [raises-exception]</span>
<span class="gu">---</span>
print(thisvariabledoesntexist)
```
</pre></div>
</div>
<p>Which produces:</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">thisvariabledoesntexist</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="n">mp</span><span class="o">/</span><span class="n">k8prchjx5yv8qpg7r0nnzfz80000gn</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">ipykernel_5046</span><span class="o">/</span><span class="mf">1091175326.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">print</span><span class="p">(</span><span class="n">thisvariabledoesntexist</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;thisvariabledoesntexist&#39; is not defined
</pre></div>
</div>
</div>
</div>
</section>
<section id="dealing-with-code-that-produces-stderr">
<h3>Dealing with code that produces stderr<a class="headerlink" href="#dealing-with-code-that-produces-stderr" title="Permalink to this headline">#</a></h3>
<p>You may also wish to control how stderr outputs are dealt with.</p>
<p>Alternatively, you can configure how stdout is dealt with at a global configuration level, using the <code class="docutils literal notranslate"><span class="pre">nb_output_stderr</span></code> configuration value.</p>
<p>You can configure the default behaviour for all notebooks in your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">execute</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">stderr_output</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">show</span><span class="w"></span>
</pre></div>
</div>
<p>Where the value is one of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;show&quot;</span></code> (default): show all stderr (unless a <code class="docutils literal notranslate"><span class="pre">remove-stderr</span></code> tag is present)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;remove&quot;</span></code>: remove all stderr</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;remove-warn&quot;</span></code>: remove all stderr, but log a warning if any found</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;warn&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;severe&quot;</span></code>: log the stderr at a certain level, if any found.</p></li>
</ul>
<p>You can also remove stderr at a cell level, using the <code class="docutils literal notranslate"><span class="pre">remove-stderr</span></code> <a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/changelog.html#cell-tags">cell tag</a>, like so:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>```{code-cell} ipython3
:tags: [remove-stderr]

import sys
print(&quot;this is some stdout&quot;)
print(&quot;this is some stderr&quot;, file=sys.stderr)
```
</pre></div>
</div>
<p>which produces</p>
<div class="cell tag_remove-stderr docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is some stdout&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is some stderr&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>this is some stdout
</pre></div>
</div>
</div>
</div>
</section>
<section id="dealing-with-code-that-produces-stdout">
<h3>Dealing with code that produces stdout<a class="headerlink" href="#dealing-with-code-that-produces-stdout" title="Permalink to this headline">#</a></h3>
<p>Similar to stderr, you can remove stdout at a cell level with the <code class="docutils literal notranslate"><span class="pre">remove-stdout</span></code> tag, by which</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>```{code-cell} ipython3
:tags: [remove-stdout]

import sys
print(&quot;this is some stdout&quot;)
print(&quot;this is some stderr&quot;, file=sys.stderr)
```
</pre></div>
</div>
<p>produces the following:</p>
<div class="cell tag_remove-stdout docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is some stdout&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is some stderr&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>this is some stderr
</pre></div>
</div>
</div>
</div>
</section>
<section id="merging-stdout-and-stderr-output">
<span id="content-execute-merge-stdout-and-stderr"></span><h3>Merging stdout and stderr output<a class="headerlink" href="#merging-stdout-and-stderr-output" title="Permalink to this headline">#</a></h3>
<p>Code contained in code cells may print outputs through both the <code class="docutils literal notranslate"><span class="pre">stdout</span></code> and <code class="docutils literal notranslate"><span class="pre">stderr</span></code> stream.</p>
<p>These outputs may appear in a mixed order and you may want them to be grouped and sorted
to display the correct <code class="docutils literal notranslate"><span class="pre">logical</span></code> ordering.</p>
<p>This can be achieved using the <a class="reference external" href="https://myst-nb.readthedocs.io/en/latest/render/format_code_cells.html#render-output-stdout-stderr" title="(in MyST-NB)"><span class="xref myst">nb_merge_streams feature contained in
<code class="docutils literal notranslate"><span class="pre">myst_nb</span></code></span></a>.</p>
<p>You can enable this in your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sphinx</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">nb_merge_streams</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="execution-statistics">
<h2>Execution statistics<a class="headerlink" href="#execution-statistics" title="Permalink to this headline">#</a></h2>
<p>As notebooks are executed, certain statistics are stored on the build environment by MyST-NB.
The simplest way to access and visualise this data is using the <code class="docutils literal notranslate"><span class="pre">{nb-exec-table}</span></code> directive.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>The <a class="reference external" href="https://myst-nb.readthedocs.io/en/latest/computation/execute.html#execute-statistics" title="(in MyST-NB)"><span class="xref myst">MyST-NB documentation</span></a>, for creating your own directives to manipulate this data.</p>
</div>
<p>The simple directive</p>
<div class="highlight-md notranslate"><div class="highlight"><pre><span></span>```{nb-exec-table}
```
</pre></div>
</div>
<p>produces:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Document</p></th>
<th class="head"><p>Modified</p></th>
<th class="head"><p>Method</p></th>
<th class="head"><p>Run Time (s)</p></th>
<th class="head"><p>Status</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>basics/create</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>1.98</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>content/code-outputs</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.86</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>content/executable/output-insert</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>5.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>content/execute</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>1.17</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>content/layout</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.5</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>content/math</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>1.21</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>content/references</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>file-types/jupytext</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>0.96</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>file-types/myst-notebooks</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>file-types/notebooks</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>3.26</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>interactive/hiding</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.56</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>interactive/interactive</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>3.85</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>interactive/launchbuttons</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>1.22</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>interactive/thebe</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.25</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>intro</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>0.98</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>linalg/3D2</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.02</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>linalg/3D3</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>1.25</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>linalg/3D4</p></td>
<td><p>2023-01-21 13:13</p></td>
<td><p>force</p></td>
<td><p>2.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>linalg/3D5</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>1.19</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>linalg/3D6</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>2.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>linalg/3E14</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>2.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>linalg/3E15</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>2.03</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>linalg/3_11</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>1.0</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>linalg/linear-map</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>0.95</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>reference/cheatsheet</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>3.34</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-odd"><td><p>start/overview</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>1.31</p></td>
<td><p>✅</p></td>
</tr>
<tr class="row-even"><td><p>structure/toc</p></td>
<td><p>2023-01-21 13:14</p></td>
<td><p>force</p></td>
<td><p>1.49</p></td>
<td><p>✅</p></td>
</tr>
</tbody>
</table>
</section>
<section id="execution-tracebacks-in-the-terminal">
<span id="execute-tracebacks"></span><h2>Execution tracebacks in the terminal<a class="headerlink" href="#execution-tracebacks-in-the-terminal" title="Permalink to this headline">#</a></h2>
<p>It is possible to print tracebacks for execution errors directly into the terminal, instead of saving them to a log file.
This is particularly useful if you’re executing your book as part of an online build process (for example, via <a class="reference internal" href="../publish/gh-pages.html"><span class="doc std std-doc">GitHub Pages</span></a>, <a class="reference internal" href="../publish/readthedocs.html"><span class="doc std std-doc">ReadTheDocs</span></a>, or <a class="reference internal" href="../publish/netlify.html"><span class="doc std std-doc">Netlify</span></a>).</p>
<p>Enable activate execution tracebacks, in your <code class="docutils literal notranslate"><span class="pre">_config.yml</span></code>:</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">sphinx</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">config</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">execution_show_tb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">True</span><span class="w"></span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://myst-nb.readthedocs.io">the MyST-NB documentation</a> for more information.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "None/None",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Zul-Fadzli Abu Bakar<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>